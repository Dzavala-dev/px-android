sudo: required

language: android

jdk: oraclejdk7

env:
 global:
   - MALLOC_ARENA_MAX=2
   - TERM=dumb
   - ADB_INSTALL_TIMEOUT=12

android:
   components:
       - tools
       - build-tools-23.0.2
       - build-tools-22.2.1
       - build-tools-22.0.1
       - android-23
       - android-22
       - android-15
       - extra
       - sys-img-armeabi-v7a-android-22

# Emulator Management: Create, Start and Wait
before_script:
   - echo no | android create avd --force -n test -t android-22 --abi armeabi-v7a
   - emulator -avd test -no-skin -no-audio &
   - android-wait-for-emulator
   - adb shell input keyevent 82 &

script:
   - ./gradlew build connectedCheck

after_success:
  - bash <(curl -s https://codecov.io/bash) -t 63323c0a-a93b-4594-aa50-ba21fc0a3a1e

notifications:
   slack: mercadopagosdk:RkGMwu92uNzhHtZvylFHZaoO